<!DOCTYPE html>
<html>
<head>
  <title>Heatmap</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/heatmap.js/2.0.0/heatmap.min.js"></script>
</head>
<body>
  <div id="heatmap" style="width: 800px; height: 600px; border: 1px solid #ccc;"></div>
  <script>
    const url = prompt('Enter page URL');
    const platform = prompt('Enter platform (clickfunnels or shopify)');
    fetch(`https://heatmap4dos-yf3zi.ondigitalocean.app/data?page=${encodeURIComponent(url)}&platform=${platform}`)
      .then(res => res.json())
      .then(data => {
        console.log('Fetched data:', data);
        const heatmap = h337.create({ container: document.getElementById('heatmap'), max: 100 });
        heatmap.setData({ max: 100, data: data.filter(d => d.value > 0) });
      })
      .catch(err => console.error('Fetch error:', err));
  </script>
</body>
</html>
